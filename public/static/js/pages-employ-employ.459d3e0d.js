(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-employ-employ"],{"027b":function(t,e,i){"use strict";i.r(e);var a=i("f1e7"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a},1168:function(t,e,i){t.exports=i.p+"static/img/star.d9032d5d.png"},"182a":function(t,e,i){t.exports=i.p+"static/img/embg.538b03a4.png"},2649:function(t,e,i){var a=i("24fb"),s=i("1de5"),n=i("182a");e=a(!1);var r=s(n);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-ceaba4b6]{width:100%;height:100%;background:#88f5fe url('+r+") repeat-x 0 0;background-size:contain}.centerheader[data-v-ceaba4b6]{border-radius:%?20?%;border:%?2?% solid #63acea}.employ[data-v-ceaba4b6]{display:flex;justify-content:space-around;align-items:center;font-size:%?30?%;color:#fff;background:#63acea;border-radius:%?20?%;line-height:%?120?%;margin:%?20?% 0}.employ .text-number[data-v-ceaba4b6]{display:flex;justify-content:space-between;width:20%;text-align:center;align-items:center;font-size:%?30?%;font-family:Arial,Helvetica,sans-serif}.employ .btn-ok[data-v-ceaba4b6]{background:#d1e6f9;border-radius:%?120?%;width:%?120?%;height:%?60?%;line-height:%?60?%;text-align:center;color:#1088d3}.result[data-v-ceaba4b6]{background:#67ba56;width:%?300?%;height:%?140?%;line-height:%?140?%;margin-left:-50%;border-radius:%?40?%}.header .avatar[data-v-ceaba4b6]{width:%?180?%;height:%?180?%;margin:%?20?% auto}.header .avatar uni-image[data-v-ceaba4b6]{width:100%;height:100%}.header .star[data-v-ceaba4b6]{text-align:center;zoom:.8}.header .star uni-image[data-v-ceaba4b6]{width:%?457?%;height:%?154?%}.maindiv .sodierlist[data-v-ceaba4b6]{margin-top:%?30?%}.maindiv .sodierlist .sodieritem[data-v-ceaba4b6]{zoom:.9;width:90%;border-radius:%?60?%;overflow:hidden;margin:0 auto;margin-bottom:%?30?%;display:flex}.maindiv .sodierlist .sodieritem .item-left[data-v-ceaba4b6]{width:50%}.maindiv .sodierlist .sodieritem .item-left .item-status[data-v-ceaba4b6]{width:%?320?%;height:%?300?%}.maindiv .sodierlist .sodieritem .item-left .item-status uni-image[data-v-ceaba4b6]{zoom:.6;width:%?320?%;height:%?300?%}.maindiv .sodierlist .sodieritem .item-right[data-v-ceaba4b6]{background:#fff;width:50%}.maindiv .sodierlist .sodieritem .item-right .attr-list[data-v-ceaba4b6]{margin:%?20?% %?20?%;line-height:%?40?%;font-size:%?26?%;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.maindiv .sodierlist .sodieritem .item-right .attr-list .attr-item[data-v-ceaba4b6]{display:flex}.maindiv .sodierlist .sodieritem .item-right .attr-list .attr-item .item-left[data-v-ceaba4b6]{width:50%}.maindiv .sodierlist .sodieritem .item-right .attr-list .attr-item .item-right[data-v-ceaba4b6]{width:50%}.maindiv .sodierlist .sodieritem .item-right .attr-list .attr-item .employ-btn[data-v-ceaba4b6]{margin:%?10?% 0}.maindiv .sodierlist .sodieritem .item-right .attr-list .attr-item .employ-btn uni-image[data-v-ceaba4b6]{width:%?220?%;height:%?100?%;zoom:.7}.maindiv .sodierlist .sbg0[data-v-ceaba4b6]{background:#e8cbe6}.maindiv .sodierlist .sbg1[data-v-ceaba4b6]{background:#f1f1d1}.maindiv .sodierlist .sbg2[data-v-ceaba4b6]{background:#c8f0fa}body.?%PAGE?%[data-v-ceaba4b6]{background:#88f5fe url("+r+") repeat-x 0 0;background-size:contain}",""]),t.exports=e},3662:function(t,e,i){t.exports=i.p+"static/img/employbtn.6a81fc2e.png"},"730a":function(t,e,i){t.exports=i.p+"static/img/bage.e4104ada.png"},"82e3":function(t,e,i){t.exports=i.p+"static/img/avatar.32524a47.png"},b05b:function(t,e,i){"use strict";i.r(e);var a=i("db49"),s=i("027b");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("beb0");var r,o=i("f0c5"),c=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,"ceaba4b6",null,!1,a["a"],r);e["default"]=c.exports},b087:function(t,e,i){t.exports=i.p+"static/img/bombjogo.cbdc04e7.png"},beb0:function(t,e,i){"use strict";var a=i("eb85"),s=i.n(a);s.a},db49:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"header"},[a("v-uni-view",{staticClass:"avatar"},[a("v-uni-image",{attrs:{src:i("b087")}})],1),a("v-uni-view",{staticClass:"star"},[a("v-uni-image",{attrs:{src:i("1168")}})],1)],1),a("v-uni-view",{staticClass:"maindiv"},[a("v-uni-view",{staticClass:"sodierlist"},t._l(t.sodiertype,(function(e,s){return a("v-uni-view",{key:e.id,class:"sodieritem sbg"+s},[a("v-uni-view",{staticClass:"item-left",style:"background:url("+e.image+") no-repeat center center;background-size:80% 75%;"},[a("v-uni-view",{staticClass:"item-status"},[a("v-uni-image",{attrs:{src:i("730a")}})],1)],1),a("v-uni-view",{staticClass:"item-right"},[a("v-uni-view",{staticClass:"attr-list"},[a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"attr-left"},[t._v("等级：")]),a("v-uni-view",{staticClass:"attr-right"},[t._v(t._s(e.level))])],1),a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"attr-left"},[t._v("费用：")]),a("v-uni-view",{staticClass:"attr-right"},[t._v(t._s(e.price))])],1),a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"attr-left"},[t._v("周期：")]),a("v-uni-view",{staticClass:"attr-right"},[t._v(t._s(e.duration))])],1),a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"attr-left"},[t._v("贡献：")]),a("v-uni-view",{staticClass:"attr-right"},[t._v(t._s(e.contribution))])],1),a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"attr-left"},[t._v("战力：")]),a("v-uni-view",{staticClass:"attr-right"},[t._v(t._s(e.power))])],1),a("v-uni-view",{staticClass:"attr-item"},[a("v-uni-view",{staticClass:"employ-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.open(e)}}},[a("v-uni-image",{attrs:{src:i("3662"),mode:""}})],1)],1)],1)],1)],1)})),1)],1),a("popup",{ref:"popup",attrs:{"mask-click":!0}},[0==t.status?a("v-uni-view",{staticClass:"popup-wrap"},[a("v-uni-view",{staticClass:"centerheader"},[a("v-uni-view",{staticClass:"head-left"},[a("v-uni-view",{staticClass:"myavatar"},[a("v-uni-image",{attrs:{src:i("82e3"),mode:""}})],1)],1),a("v-uni-view",{staticClass:"head-right"},[a("v-uni-view",{staticClass:"myid"},[a("v-uni-view",{staticClass:"myname"},[t._v("工兵等级：")]),a("v-uni-view",{staticClass:"myvalue"},[t._v(t._s(t.popuoSoider.level))])],1),a("v-uni-view",{staticClass:"mylevel"},[a("v-uni-view",{staticClass:"myname"},[t._v("可用CIC：")]),a("v-uni-view",{staticClass:"myvalue"},[t._v(t._s(t.userinfo.candy_available))])],1),a("v-uni-view",{staticClass:"mylevel"},[a("v-uni-view",{staticClass:"myname"},[t._v("最多雇佣：")]),a("v-uni-view",{staticClass:"myvalue"},[t._v(t._s(t._f("maxSoider")(t.popuoSoider)))])],1)],1)],1),a("v-uni-view",{staticClass:"employ"},[a("v-uni-view",{staticClass:"text-choose"},[t._v("选择雇佣数量")]),a("v-uni-view",{staticClass:"text-number"},[a("v-uni-view",{staticClass:"reduce",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reduce()}}},[t._v("-")]),a("v-uni-input",{staticClass:"number",attrs:{type:"number",value:t.total}}),a("v-uni-view",{staticClass:"add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add()}}},[t._v("+")])],1),a("v-uni-view",{staticClass:"btn-ok"},[a("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.employ(t.popuoSoider)}}},[t._v("雇佣")])],1)],1)],1):a("v-uni-view",{staticClass:"popup-wrap"},[a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"result"},[t._v("成功了!")])],1)],1),a("v-uni-image",{staticClass:"close",attrs:{src:"/static/images/pk/close.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}})],1)],1)},n=[]},eb85:function(t,e,i){var a=i("2649");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("17d638ee",a,!0,{sourceMap:!1,shadowMode:!1})},f1e7:function(t,e,i){"use strict";var a=i("4ea4");i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var s,n=a(i("1da1")),r=a(i("2fcc")),o=a(i("4207")),c={components:{popup:o.default},data:function(){return{userinfo:{},sodiertype:[],sodierchoice:{},typeid:0,popuoSoider:{},status:0,total:1}},beforeCreate:function(){s=this},onLoad:function(t){t.data&&(this.sodierchoice=JSON.parse(t.data)),this.getUserInfo(),this.getSodierList()},filters:{maxSoider:function(t){var e=parseInt(s.userinfo.candy_available),i=t.price;return parseInt(Math.min(e/i,t.max_employ_amount))}},methods:{getUserInfo:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,e.next=3,r.default.getdata(t,r.default.api.main.userinfo,{user_token:uni.getStorageSync("user_token")},"POST","","",(function(t,e){console.log(e),"success"==e.code?(i.userinfo=e.data,uni.setStorageSync("userinfo",e.data)):i.$util.Tips({title:e.msg},"/pages/register/register")}));case 3:case"end":return e.stop()}}),e)})))()},getSodierList:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"疯狂加载中..."}),i=t,e.next=4,r.default.getdata(t,r.default.api.main.canUseSolider,{user_token:uni.getStorageSync("user_token")},"GET","","",(function(t,e){uni.hideLoading(),"success"==e.code?(i.sodiertype=e.data,console.log(e.data)):i.$util.Tips({title:e.msg})}));case 4:case"end":return e.stop()}}),e)})))()},employ:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=e,a.status=1,a.status=0,i.next=5,r.default.getdata(e,r.default.api.main.buySoider,{user_token:uni.getStorageSync("user_token"),id:t.id,amount:e.total},"POST","","",(function(t,e){"success"==e.code?(a.$util.Tips({title:e.msg||"雇佣成功!"}),a.getUserInfo(),a.$refs.popup.close("center")):a.$util.Tips({title:e.msg})}));case 5:case"end":return i.stop()}}),i)})))()},reduce:function(){this.total-=1,this.countVal(this.total)},add:function(){this.total+=1,this.countVal(this.total)},countVal:function(t){t<=0&&(this.total=1)},open:function(t){this.popuoSoider=t,this.$refs.popup.open("center")},close:function(){this.$refs.popup.close("center"),this.sodierchoice={}}}};e.default=c}}]);