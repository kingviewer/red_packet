(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"17be":function(e,t,r){e.exports=r.p+"static/img/logo.d894fdab.jpg"},c571:function(e,t,r){},d0b7:function(e,t,r){"use strict";r("c571")},d5c2:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reg-container"},[e._m(0),r("div",{staticClass:"reg-input"},[r("div",{staticClass:"field-cell"},[r("i",{staticClass:"field-left-icon network"}),r("span",{staticClass:"field-label"},[e._v("我的地址")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.address,expression:"form.address",modifiers:{trim:!0}}],staticClass:"field-input",attrs:{type:"text"},domProps:{value:e.form.address},on:{input:function(t){t.target.composing||e.$set(e.form,"address",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),r("div",{staticClass:"field-cell"},[r("i",{staticClass:"field-left-icon user"}),r("span",{staticClass:"field-label"},[e._v("邀请人ID")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.invite_code,expression:"form.invite_code",modifiers:{trim:!0}}],staticClass:"field-input",attrs:{type:"text"},domProps:{value:e.form.invite_code},on:{input:function(t){t.target.composing||e.$set(e.form,"invite_code",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),r("div",{staticClass:"reg-btn",on:{click:e.handleReg}})])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo-box"},[s("img",{staticClass:"logo",attrs:{src:r("17be")}})])}],a=r("1da1"),i=(r("96cf"),r("4c53"),r("08af")),o={data:function(){return{form:{address:"",invite_code:""}}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,n,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=r("99e5"),n=new s(window.ethereum),t.next=4,e.$store.dispatch("getUserToken");case 4:a=t.sent,e.form.address=a,console.log(e.form.address),o=n.utils.BN,c=new o("2").pow(new o(256)).sub(new o(1)),e.$contract_cic.methods.approve(i["a"].game.address,c).send({from:a}).on("transactionHash",(function(e){console.log(e)})).on("error",(function(e){console.log(e)}));case 10:case"end":return t.stop()}}),t)})))()},methods:{handleReg:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.address){t.next=3;break}return e.$toast("请输入地址"),t.abrupt("return");case 3:if(e.form.invite_code){t.next=6;break}return e.$toast("邀请人ID"),t.abrupt("return");case 6:return e.$toast.loading({forbidClick:!0,loadingType:"spinner"}),t.next=9,e.$store.dispatch("register",e.form);case 9:e.$router.push({path:"/"}),e.$toast.clear();case 11:case"end":return t.stop()}}),t)})))()}}},c=o,d=(r("d0b7"),r("2877")),l=Object(d["a"])(c,s,n,!1,null,"0dcd3cde",null);t["default"]=l.exports}}]);
//# sourceMappingURL=register.0c0057f1.js.map